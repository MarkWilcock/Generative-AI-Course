# Use AI Tools for DAX

DAX is the data modelling and calculation language of Power BI.  We can use an AI tool, together with the DAX query view in Power BI Desktop, to help us write our DAX queries and measures.  This can also be a great learning exercise.  

## Exercise: Generate DAX queries against a Power BI data model

For this exercise, attendees must have a recent (2024) version of Power BI Desktop installed on their PC.  This exercise assumes that attendees are familiar with Power BI Desktop and have a basic knowledge of DAX.  

Note that Power BI tenants with a certain type of capacity license, can use Copilot as a code assistant directly from within the query view. However, in this exercise we will  use an approach of using an external AI tool.  That  means that we need to copy / paste the DAX generated by the tool into the DAX query view but this is a small inconvenience.

### Getting started with this exercise

In this exercise, we ask the AI tool to write DAX queries and measures based on a Power BI Data model that uses fictional data and has a standard star schem data model.  This is the model view.  
![model view.](./Resources/Power%20BI%20Superstore%20Data%20Model.png)

1. Launch Power BI Desktop and ensure that you have a recent version, preferably January 2024 or later.
1. In Preview features, enable DAX Query View (if it is still a Preview feature in your version)
1. Download [this Power BI file](./Resources/Superstore%20Data%20Model%20Only.pbix) and open it in Power BI Desktop.    
1. The Power BI file contains a standard star schema data model.Review the data model, the table and column names, relationships etc.  Consider what DAX measures you would add to this model.

### Ask the AI to generate DAX queries and define measures

Go to a new tab in the DAX Query View.  Here are a set of prompts you can use to ask the AI to generate DAX queries.  Use these as a starting point.  You may want to copy the response to each prompt into a new tab in the query view and add the initial prompt as a comment

The initial prompt refers to an image of a data model.  You can download it from [here](./Resources/Power%20BI%20Superstore%20Data%20Model.png)

_Prompt:_
Act as an expert in writing DAX queries.  I will provide you with an image of a Power BI data model then ask you to write queries based on that model.

_Prompt:_
Write a query to show Sales by Region

_Prompt:_
Rephrase the query for use in the DAX query view.  Start the query with EVALUATE and use SUMMARIZECOLUMNS rather than SUMMARIZE.

_Prompt:_
Enclose all table names in single quotes in future code examples.

_Prompt:_
Rephrase the query to define the Total Sales measure before the EVALUATE.

_Prompt:_
The data model now has a table named Calcs to hold all our measures.  Rephrase the query above so that the Total Sales measure is in the Calcs table.

_Prompt:_
Please write query to define the measure as 'Sales' rather than 'Total Sales'

_Prompt:_
Write a query to define Profit and Quantity measures in a similar way

_Prompt:_
Assume now that I have added the Sales, Quantity and Profit measures to the data model. Write a query to define then use a measure named COGS.  The calculation is Sales - Profit

_Prompt:_
Write a query to define a measure 'Number of Transactions'


There is a shared ChatGPT conversation based on this example exercise [here](https://chatgpt.com/c/3ee39673-5e94-4ca5-a593-4cd6900a1be8).











